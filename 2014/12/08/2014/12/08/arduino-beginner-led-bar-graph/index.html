<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>An LED Bar Graph | The Bedroom Laboratory</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="For This Project We are going to use the pervious circuit (see the LED light bar tutorial) to build on top off. We don’t need to change it at all, we are just going to add to it and write some new cod">
<meta property="og:type" content="article">
<meta property="og:title" content="An LED Bar Graph">
<meta property="og:url" content="http://thebedlab.com/2014/12/08//2014/12/08/arduino-beginner-led-bar-graph//index.html">
<meta property="og:site_name" content="The Bedroom Laboratory">
<meta property="og:description" content="For This Project We are going to use the pervious circuit (see the LED light bar tutorial) to build on top off. We don’t need to change it at all, we are just going to add to it and write some new cod">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://thebedlab.com/wp-content/uploads/2014/11/full-circuit-1024x621.png">
<meta property="og:image" content="http://thebedlab.com/wp-content/uploads/2014/11/led-bar-graph1-1024x543.png">
<meta property="og:image" content="http://thebedlab.com/wp-content/uploads/2014/11/potentiometer-1024x518.png">
<meta property="og:updated_time" content="2017-09-21T15:20:23.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="An LED Bar Graph">
<meta name="twitter:description" content="For This Project We are going to use the pervious circuit (see the LED light bar tutorial) to build on top off. We don’t need to change it at all, we are just going to add to it and write some new cod">
<meta name="twitter:image" content="http://thebedlab.com/wp-content/uploads/2014/11/full-circuit-1024x621.png">
  
    <link rel="alternate" href="/atom.xml" title="The Bedroom Laboratory" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">The Bedroom Laboratory</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">A small apartment leaves little alternative</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://thebedlab.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-/2014/12/08/arduino-beginner-led-bar-graph/" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/12/08/2014/12/08/arduino-beginner-led-bar-graph/" class="article-date">
  <time datetime="2014-12-08T11:45:20.000Z" itemprop="datePublished">2014-12-08</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Projects/">Projects</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      An LED Bar Graph
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>For This Project We are going to use the pervious circuit (see the <a href="http://thebedlab.com/beginning-arduino-led-light-bar" title="LED Light Bar tutorial">LED light bar tutorial</a>) to build on top off. We don’t need to change it at all, we are just going to add to it and write some new code. What we are going to make is an LED bar graph. The kind of LED display used to give feedback for things like volume control on a speaker system. For us, we are simply going to use a Potentiometer to increase and decrease the number of LED’s turned on.</p>
<p>Components required:</p>
<ul>
<li><ol>
<li>Arduino board</li>
</ol>
</li>
<li><ol>
<li>Breadboard</li>
</ol>
</li>
<li><ol>
<li>Wires</li>
</ol>
</li>
<li><ol>
<li>8 x 220 Ω resistors</li>
</ol>
</li>
<li><ol>
<li>8 x LEDs</li>
</ol>
</li>
<li><strong>Potentiometer</strong> - this and 3 extra cables are the only additions to the pervious tutorial component list</li>
</ul>
<p>So here is the original circuit from the LED light bar tutorial.</p>
<p><img src="http://thebedlab.com/wp-content/uploads/2014/11/full-circuit-1024x621.png" alt="full LED Light Bar circuit"></p>
<p>Now we add in the Potentiometer.</p>
<p><img src="/wp-content/uploads/2014/11/led-bar-graph1-1024x543.png" alt="led bar graph"></p>
<p>If thats a little overwhelming, here is the potentiometer circuit on its own.</p>
<p><img src="http://thebedlab.com/wp-content/uploads/2014/11/potentiometer-1024x518.png" alt="potentiometer"></p>
<p>That’s not so complex at all.</p>
<p>The potentiometer acts as a voltage divider, which basically means that the voltage seen on the middle pin will be somewhere between the voltage levels applied to the other two pins. You can change the voltage on the middle pin by turning the knob, but it will never go outside the bounds of the voltages on the other two pins. In the circuit above, it means that we can turn the knob on the potentiometer to get any voltage between 0V and 5V on the middle pin. This pin is then connected to our analog input (A0 on the Arduino board). The Arduino reads the voltage level and performs an Analog to Digital Conversion (ADC), i.e. it changes the voltage to a number between 0 and 1023. This is just a simple scale to represent voltage level where 0 = 0V and 1023 = 5V.</p>
<p>The biggest change from the LED Light bar is the code we use. Create a new Sketch and add the following:</p>
<p>[c]</p>
<p>//Define which analog input used for potentiometer</p>
<p>const int potentiometer = A0;</p>
<p>//number of LEDs in our array</p>
<p>const int numberOfLEDs = 8;</p>
<p>// digital pins corresponding to our LED circuits</p>
<p>int leds[] = {2,3,4,5,6,7,8,9};</p>
<p>void setup(){</p>
<p>// loop through our digital pins to set them to Output</p>
<p>for(int i =0; i &amp;lt; numberOfLEDs; i++){</p>
<p>pinMode(leds[i], OUTPUT);</p>
<p>}</p>
<p>}</p>
<p>void loop(){</p>
<p>// take a reading from the potentiometer</p>
<p>int reading = analogRead(potentiometer);</p>
<p>// for an explanation of the map function, see below</p>
<p>int level = map(reading, 0, 1023, 0, numberOfLEDs);</p>
<p>for(int i = 0; i &amp;lt; numberOfLEDs; i++){</p>
<p>if(i &amp;lt; level){</p>
<p>digitalWrite(leds[i], HIGH);</p>
<p>} else {</p>
<p>digitalWrite(leds[i], LOW);</p>
<p>}</p>
<p>}</p>
<p>}</p>
<p>[/c]</p>
<p><strong>The map function</strong> takes five parameters used to map a value in one scale range to another scale. We are looking to map each LED 8 steps as values between 0 &amp; 1023 (because this is the range of readings the Analog input can read).</p>
<p>The Map() function’s five parameters are:</p>
<ul>
<li>The current <strong>value</strong> we wish to map to a particular scale </li>
<li>The <strong>fromLow</strong> value which set’s the minimum value of the scale we are mapping from, in our case the minimum value that can be read from the analog pin A0 i.e. 0 </li>
<li>The <strong>fromHigh</strong>, which is the maximum value for the scale we a mapping from, 1023 in our case</li>
<li>The <strong>toLow</strong> which is 0 in our case as we will have 0 LED lighting when the reading is 0 </li>
<li>The <strong>toHigh</strong> which is 8 in this example as we want all our LED’s lighting when the potentiometer is turned up to full </li>
</ul>
<p>Now plug upload the code to the Arduino and you should have the result shown below.</p>
<p>This Tutorial is based <a href="http://blog.jonnie.io/led-bar-graph/" title="jonnie.io : led-bar-graph" target="_blank" rel="external">on a post on my own blog</a>.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://thebedlab.com/2014/12/08/2014/12/08/arduino-beginner-led-bar-graph/" data-id="cj7ulv365002futnp1e02fwgj" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2014/12/16/2014/12/16/hour-of-code/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Hour of code
        
      </div>
    </a>
  
  
    <a href="/2014/12/01/2014/12/01/beginning-arduino-led-light-bar/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">An LED Light Bar</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Blog/">Blog</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Blog/Projects/">Projects</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Maker/">Maker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Projects/">Projects</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Projects/School-Night-Sessions/">School Night Sessions</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Projects/Tutorials/">Tutorials</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/School-Night-Sessions/">School Night Sessions</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/The-Lab/">The Lab</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tutorials/">Tutorials</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Uncategorised/">Uncategorised</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/API/">API</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Arduino/">Arduino</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Beginner/">Beginner</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Digital-Week/">Digital Week</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Doodlebot/">Doodlebot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Drinking/">Drinking</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ESP8266/">ESP8266</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Homebrew/">Homebrew</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IoT/">IoT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Lasercutter/">Lasercutter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Month/">Month</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/REST-API/">REST API</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Reflow-Soldering-Oven/">Reflow Soldering Oven</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Workshop/">Workshop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/homemade-equipment/">homemade equipment</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tutorial/">tutorial</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/API/" style="font-size: 20px;">API</a> <a href="/tags/Arduino/" style="font-size: 13.33px;">Arduino</a> <a href="/tags/Beginner/" style="font-size: 13.33px;">Beginner</a> <a href="/tags/Digital-Week/" style="font-size: 16.67px;">Digital Week</a> <a href="/tags/Doodlebot/" style="font-size: 10px;">Doodlebot</a> <a href="/tags/Drinking/" style="font-size: 10px;">Drinking</a> <a href="/tags/ESP8266/" style="font-size: 10px;">ESP8266</a> <a href="/tags/Homebrew/" style="font-size: 10px;">Homebrew</a> <a href="/tags/IoT/" style="font-size: 10px;">IoT</a> <a href="/tags/Lasercutter/" style="font-size: 10px;">Lasercutter</a> <a href="/tags/Month/" style="font-size: 10px;">Month</a> <a href="/tags/REST-API/" style="font-size: 10px;">REST API</a> <a href="/tags/Reflow-Soldering-Oven/" style="font-size: 10px;">Reflow Soldering Oven</a> <a href="/tags/Workshop/" style="font-size: 16.67px;">Workshop</a> <a href="/tags/homemade-equipment/" style="font-size: 10px;">homemade equipment</a> <a href="/tags/tutorial/" style="font-size: 16.67px;">tutorial</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">June 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05/">May 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">March 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/02/">February 2013</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/06/07/api-month-day-11-movies/">API Month Day 11 - Movies</a>
          </li>
        
          <li>
            <a href="/2015/12/10/api-month-day-10-twitter-mood/">API Month Day 10 - Oasis or Blur</a>
          </li>
        
          <li>
            <a href="/2015/12/09/2015/12/09/api-month-day-9-petrol-stations/">API Month Day 9 - Petrol Stations</a>
          </li>
        
          <li>
            <a href="/2015/12/08/2015/12/08/api-month-day-8-space/">API Month Day 8 - SPACE</a>
          </li>
        
          <li>
            <a href="/2015/12/07/2015/12/07/api-month-day-7-where-is-my-air/">API Month Day 7 - Where is my air?</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 The Bedroom Laboratory<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>
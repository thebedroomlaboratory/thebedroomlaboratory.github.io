<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Day 6 API Month - GPS Distance | The Bedroom Laboratory</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="API purpose: GPS Distance Signup: Using the google developer portal Documentation: https://developers.google.com/maps/web-services/client-library Github: https://github.com/gregario/API-Month/tree/mas">
<meta name="keywords" content="API">
<meta property="og:type" content="article">
<meta property="og:title" content="Day 6 API Month - GPS Distance">
<meta property="og:url" content="http://thebedlab.com/2015/12/06//2015/12/06/day-6-api-month-gps-distance//index.html">
<meta property="og:site_name" content="The Bedroom Laboratory">
<meta property="og:description" content="API purpose: GPS Distance Signup: Using the google developer portal Documentation: https://developers.google.com/maps/web-services/client-library Github: https://github.com/gregario/API-Month/tree/mas">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2017-09-21T15:20:23.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Day 6 API Month - GPS Distance">
<meta name="twitter:description" content="API purpose: GPS Distance Signup: Using the google developer portal Documentation: https://developers.google.com/maps/web-services/client-library Github: https://github.com/gregario/API-Month/tree/mas">
  
    <link rel="alternate" href="/atom.xml" title="The Bedroom Laboratory" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">The Bedroom Laboratory</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">A small apartment leaves little alternative</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://thebedlab.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-/2015/12/06/day-6-api-month-gps-distance/" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/06/2015/12/06/day-6-api-month-gps-distance/" class="article-date">
  <time datetime="2015-12-06T22:42:58.000Z" itemprop="datePublished">2015-12-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Uncategorised/">Uncategorised</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Day 6 API Month - GPS Distance
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>API purpose: GPS Distance</p>
<p>Signup: Using the google developer portal</p>
<p>Documentation: <a href="https://developers.google.com/maps/web-services/client-library" target="_blank" rel="external">https://developers.google.com/maps/web-services/client-library</a></p>
<p>Github: <a href="https://github.com/gregario/API-Month/tree/master/Day6%20GPS%20Distance" target="_blank" rel="external">https://github.com/gregario/API-Month/tree/master/Day6%20GPS%20Distance</a></p>
<p>Comment: Continuation of day 4, interesting problem.</p>
<p>Quick one today after yesterday drove me mad. Wanted to do a quick function that takes in two sets of GPS data and works out the distance between them. I did some reading on calculating distances between two points on a map. Apparently its a real issue in the mapping community with many implementations of map hashing being discussed.</p>
<p>My first thoughts would be to take the two latitudes from each other, take the absolute of that. Then do the same with longditude and then add those two numbers together. In math-y terms it would be:</p>
<blockquote>
<p>distance = abs(lat2 - lat1) + abs(long2 - long2)</p>
</blockquote>
<p>But then I had a flashback to my school maths and it would be more appropriate to do a pythagoras job on it. Basically take the two points as a hypotenuse of a right angled triangle. Then I had the fun of programming it in python, I got:</p>
<blockquote>
<p>math.sqrt((p0[0] - p1[0])**2 + (p0[1] - p1[1])**2)</p>
</blockquote>
<p>A small aside but another thing I did for today was to make an API key file that I can use with all my programs. So commiting your API keys to Git is generally a bad thing. People have scripts running to search for API key, particularly for anything to do with AWS, and start hammering them once theyâ€™re found. It can end up costing a bunch of money. So I have a separate file I do not commit to any Git repository and I add to my files by importing it like any other module in python. It also is a nice system for configuration files if you want to make your python scripts more abstract.</p>
<p>So new code, here it it.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-T</span></div><div class="line"><span class="comment"># Program to check the linear distance between two sets of GPS coordinates. </span></div><div class="line"><span class="comment"># Continuation of day 4 of API Month</span></div><div class="line"><span class="comment"># Greg Jackson 6th deb 2015</span></div><div class="line"><span class="comment"># Twitter @gr3gario or github gregario</span></div><div class="line"><span class="comment"># Day 6 of the Month of API</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> googlemaps <span class="comment"># install using pip install -U googlemaps </span></div><div class="line"><span class="keyword">import</span> sys <span class="comment"># Used to take in input parameters from command line.</span></div><div class="line"><span class="keyword">from</span> APIKEY <span class="keyword">import</span> googlekey</div><div class="line"><span class="keyword">import</span> math <span class="comment"># Added to do sqrt </span></div><div class="line"></div><div class="line"><span class="comment"># Geocoding an address</span></div><div class="line">geocode_result = gmaps.geocode(sys.argv[<span class="number">1</span>]) <span class="comment"># passes address given on command line to google maps geocoding api</span></div><div class="line">gmaps = googlemaps.Client(key=[INSERT_KEY]googlekey) <span class="comment"># Get key from your google developer portal. </span></div><div class="line">latlng = []</div><div class="line">latlngTB = [<span class="number">51.5054564</span>,<span class="number">-0.0753565</span>]</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">for</span> key <span class="keyword">in</span> geocode_result: <span class="comment"># the returned object is a list with nested JSON objects inside each list. So you need to iterate through the list and do operations on each object separately</span></div><div class="line">	latlng.append(key[<span class="string">'geometry'</span>][<span class="string">'bounds'</span>][<span class="string">'northeast'</span>][<span class="string">'lat'</span>]) <span class="comment"># pulls out nested latitude figure from call</span></div><div class="line">	latlng.append(key[<span class="string">'geometry'</span>][<span class="string">'bounds'</span>][<span class="string">'northeast'</span>][<span class="string">'lng'</span>]) <span class="comment"># pulls out nested longditude figure from call</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">distance</span><span class="params">(p0, p1)</span>:</span></div><div class="line">    <span class="keyword">return</span> math.sqrt((p0[<span class="number">0</span>] - p1[<span class="number">0</span>])**<span class="number">2</span> + (p0[<span class="number">1</span>] - p1[<span class="number">1</span>])**<span class="number">2</span>)</div><div class="line"></div><div class="line"><span class="comment"># Obsolete Method, simplier than other.</span></div><div class="line"><span class="comment">#distance = abs(latlngTB[0] - latlng[0]) + abs(latlng[1] - latlngTB[1]) </span></div><div class="line"></div><div class="line">distance = distance(latlng,latlngTB)</div><div class="line"><span class="keyword">print</span> <span class="string">"The distance to Tower Bridge is: "</span> +str(distance)</div></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://thebedlab.com/2015/12/06/2015/12/06/day-6-api-month-gps-distance/" data-id="cj7ulv36h0031utnpunp4fu6e" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/API/">API</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/12/07/2015/12/07/api-month-day-7-where-is-my-air/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          API Month Day 7 - Where is my air?
        
      </div>
    </a>
  
  
    <a href="/2015/12/05/2015/12/05/day-5-api-month-london-air-quality/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Day 5 API Month - London Air Quality</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Blog/">Blog</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Blog/Projects/">Projects</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Maker/">Maker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Projects/">Projects</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Projects/School-Night-Sessions/">School Night Sessions</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Projects/Tutorials/">Tutorials</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/School-Night-Sessions/">School Night Sessions</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/The-Lab/">The Lab</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tutorials/">Tutorials</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Uncategorised/">Uncategorised</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/API/">API</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Arduino/">Arduino</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Beginner/">Beginner</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Digital-Week/">Digital Week</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Doodlebot/">Doodlebot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Drinking/">Drinking</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ESP8266/">ESP8266</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Homebrew/">Homebrew</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IoT/">IoT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Lasercutter/">Lasercutter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Month/">Month</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/REST-API/">REST API</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Reflow-Soldering-Oven/">Reflow Soldering Oven</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Workshop/">Workshop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/homemade-equipment/">homemade equipment</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tutorial/">tutorial</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/API/" style="font-size: 20px;">API</a> <a href="/tags/Arduino/" style="font-size: 13.33px;">Arduino</a> <a href="/tags/Beginner/" style="font-size: 13.33px;">Beginner</a> <a href="/tags/Digital-Week/" style="font-size: 16.67px;">Digital Week</a> <a href="/tags/Doodlebot/" style="font-size: 10px;">Doodlebot</a> <a href="/tags/Drinking/" style="font-size: 10px;">Drinking</a> <a href="/tags/ESP8266/" style="font-size: 10px;">ESP8266</a> <a href="/tags/Homebrew/" style="font-size: 10px;">Homebrew</a> <a href="/tags/IoT/" style="font-size: 10px;">IoT</a> <a href="/tags/Lasercutter/" style="font-size: 10px;">Lasercutter</a> <a href="/tags/Month/" style="font-size: 10px;">Month</a> <a href="/tags/REST-API/" style="font-size: 10px;">REST API</a> <a href="/tags/Reflow-Soldering-Oven/" style="font-size: 10px;">Reflow Soldering Oven</a> <a href="/tags/Workshop/" style="font-size: 16.67px;">Workshop</a> <a href="/tags/homemade-equipment/" style="font-size: 10px;">homemade equipment</a> <a href="/tags/tutorial/" style="font-size: 16.67px;">tutorial</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">June 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05/">May 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">March 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/02/">February 2013</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/06/07/api-month-day-11-movies/">API Month Day 11 - Movies</a>
          </li>
        
          <li>
            <a href="/2015/12/10/api-month-day-10-twitter-mood/">API Month Day 10 - Oasis or Blur</a>
          </li>
        
          <li>
            <a href="/2015/12/09/2015/12/09/api-month-day-9-petrol-stations/">API Month Day 9 - Petrol Stations</a>
          </li>
        
          <li>
            <a href="/2015/12/08/2015/12/08/api-month-day-8-space/">API Month Day 8 - SPACE</a>
          </li>
        
          <li>
            <a href="/2015/12/07/2015/12/07/api-month-day-7-where-is-my-air/">API Month Day 7 - Where is my air?</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 The Bedroom Laboratory<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>
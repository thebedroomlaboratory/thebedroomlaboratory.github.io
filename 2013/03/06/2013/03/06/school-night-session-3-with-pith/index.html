<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>School Night Session #3 - WITH PITH | The Bedroom Laboratory</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Tonight we are going to design a people counter for entering and exiting rooms. We’re going to call it the WITH PITH (Who’s in the House, People in the House) We’re going to go for an IR transmitter r">
<meta property="og:type" content="article">
<meta property="og:title" content="School Night Session #3 - WITH PITH">
<meta property="og:url" content="http://thebedlab.com/2013/03/06//2013/03/06/school-night-session-3-with-pith//index.html">
<meta property="og:site_name" content="The Bedroom Laboratory">
<meta property="og:description" content="Tonight we are going to design a people counter for entering and exiting rooms. We’re going to call it the WITH PITH (Who’s in the House, People in the House) We’re going to go for an IR transmitter r">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2017-09-21T15:20:23.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="School Night Session #3 - WITH PITH">
<meta name="twitter:description" content="Tonight we are going to design a people counter for entering and exiting rooms. We’re going to call it the WITH PITH (Who’s in the House, People in the House) We’re going to go for an IR transmitter r">
  
    <link rel="alternate" href="/atom.xml" title="The Bedroom Laboratory" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">The Bedroom Laboratory</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">A small apartment leaves little alternative</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://thebedlab.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-/2013/03/06/school-night-session-3-with-pith/" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/03/06/2013/03/06/school-night-session-3-with-pith/" class="article-date">
  <time datetime="2013-03-06T21:16:39.000Z" itemprop="datePublished">2013-03-06</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Projects/">Projects</a>►<a class="article-category-link" href="/categories/Projects/School-Night-Sessions/">School Night Sessions</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      School Night Session #3 - WITH PITH
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Tonight we are going to design a people counter for entering and exiting rooms.</p>
<p>We’re going to call it the WITH PITH (Who’s in the House, People in the House)</p>
<p>We’re going to go for an IR transmitter receiver pair where it counts a person every time the beam is interrupted.</p>
<p>We’re going to aim for the following features:</p>
<ul>
<li><p>Battery Powered</p>
</li>
<li><p>Two units, a transmitter and a receiver pair</p>
</li>
<li><p>Screen to display the number of people coming into the room</p>
</li>
<li><p>Buttons to reset the counter and turning off and on the screen</p>
</li>
</ul>
<p>As we go we’re going to have to revisit this list, as we want it to be battery powered it will need to be ultra low power, so certain features may get &#8220;sidelined&#8221;… or dumped really!</p>
<p>Martin will start designing the transmitter and Greg will work on the receiver.</p>
<p>Will keep you updated.</p>
<a id="more"></a>
<h3 id="Update-End-of-session"><a href="#Update-End-of-session" class="headerlink" title="Update - End of session"></a>Update - End of session</h3><p>So after an evening of planning and tea, we have looked into a few different options for the device:</p>
<ol>
<li>The simplest way of implementing the device is to have an IR LED on one side of a doorway and a photo-transistor on the other to detect something breaking the beam. This would not be very well protected from IR interference from other sources though.</li>
<li>A slightly more complex method is to send bursts of 38 kHz light from the IR LED periodically and then use a 38 kHz IR receiver (probably the TSOP28238) to receive these and cause an interrupt on the microcontroller. This means more sleep time for microcontroller, less transmission time for the LED and higher protection against external sources of IR light.</li>
</ol>
<p>We’re thinking of trying both options out on a breadboard and comparing the power consumption and capabilities of each. From there we can go ahead and design and order some PCBs (looking at itead for this). For approach two we’d be adapting the circuit shown at <a href="http://pcbheaven.com/circuitpages/Long\_Range\_IR\_Beam\_Break_Detector/" target="_blank" rel="external">http://pcbheaven.com/circuitpages/Long\_Range\_IR\_Beam\_Break_Detector/</a> for our transmission purposes, maybe with a CMOS 556 timer and a higher burst interval. While the tutorial on that site also has a reception circuit, we will just be hooking up the 38 kHz IR receiver to our 328p microcontroller. We think it’d be nice to singleboard the whole thing or to make it as a shield for our upcoming low-powered arduino (with pro mini footprint).</p>
<p>Anyway, we’re gonna go ahead and get the parts in for testing out this stuff. I think the plan is to continue this in next week’s school night session when we have all the stuff here to actually build the circuits on breadboards. In the meantime Greg is going to work on some circuit drawings for the low-powered arduino and the WITH PITH, while Martin is getting started on component pricing and ordering. Tune in next week for more!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://thebedlab.com/2013/03/06/2013/03/06/school-night-session-3-with-pith/" data-id="cj7ulv34g000futnpnip1bara" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2013/03/09/2013/03/09/printrbot-jr/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Printrbot Jr
        
      </div>
    </a>
  
  
    <a href="/2013/02/24/2013/02/24/the-deconstruction-a-testimonial/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">The Deconstruction - A testimonial</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Blog/">Blog</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Blog/Projects/">Projects</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Maker/">Maker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Projects/">Projects</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Projects/School-Night-Sessions/">School Night Sessions</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Projects/Tutorials/">Tutorials</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/School-Night-Sessions/">School Night Sessions</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/The-Lab/">The Lab</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tutorials/">Tutorials</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Uncategorised/">Uncategorised</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/API/">API</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Arduino/">Arduino</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Beginner/">Beginner</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Digital-Week/">Digital Week</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Doodlebot/">Doodlebot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Drinking/">Drinking</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ESP8266/">ESP8266</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Homebrew/">Homebrew</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IoT/">IoT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Lasercutter/">Lasercutter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Month/">Month</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/REST-API/">REST API</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Reflow-Soldering-Oven/">Reflow Soldering Oven</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Workshop/">Workshop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/homemade-equipment/">homemade equipment</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tutorial/">tutorial</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/API/" style="font-size: 20px;">API</a> <a href="/tags/Arduino/" style="font-size: 13.33px;">Arduino</a> <a href="/tags/Beginner/" style="font-size: 13.33px;">Beginner</a> <a href="/tags/Digital-Week/" style="font-size: 16.67px;">Digital Week</a> <a href="/tags/Doodlebot/" style="font-size: 10px;">Doodlebot</a> <a href="/tags/Drinking/" style="font-size: 10px;">Drinking</a> <a href="/tags/ESP8266/" style="font-size: 10px;">ESP8266</a> <a href="/tags/Homebrew/" style="font-size: 10px;">Homebrew</a> <a href="/tags/IoT/" style="font-size: 10px;">IoT</a> <a href="/tags/Lasercutter/" style="font-size: 10px;">Lasercutter</a> <a href="/tags/Month/" style="font-size: 10px;">Month</a> <a href="/tags/REST-API/" style="font-size: 10px;">REST API</a> <a href="/tags/Reflow-Soldering-Oven/" style="font-size: 10px;">Reflow Soldering Oven</a> <a href="/tags/Workshop/" style="font-size: 16.67px;">Workshop</a> <a href="/tags/homemade-equipment/" style="font-size: 10px;">homemade equipment</a> <a href="/tags/tutorial/" style="font-size: 16.67px;">tutorial</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">June 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05/">May 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">March 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/02/">February 2013</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/06/07/api-month-day-11-movies/">API Month Day 11 - Movies</a>
          </li>
        
          <li>
            <a href="/2015/12/10/api-month-day-10-twitter-mood/">API Month Day 10 - Oasis or Blur</a>
          </li>
        
          <li>
            <a href="/2015/12/09/2015/12/09/api-month-day-9-petrol-stations/">API Month Day 9 - Petrol Stations</a>
          </li>
        
          <li>
            <a href="/2015/12/08/2015/12/08/api-month-day-8-space/">API Month Day 8 - SPACE</a>
          </li>
        
          <li>
            <a href="/2015/12/07/2015/12/07/api-month-day-7-where-is-my-air/">API Month Day 7 - Where is my air?</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 The Bedroom Laboratory<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>